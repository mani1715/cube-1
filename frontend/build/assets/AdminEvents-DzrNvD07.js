import{r as e,j as t}from"./ui-vendor-BTYnCCVH.js";import{B as s,y as a,J as i,E as l,F as n,m as c,a6 as r}from"./index-zo8qnSR5.js";import{T as x}from"./loading-skeleton-BH0E5eiA.js";import{E as d}from"./empty-state-DopUaX1E.js";import{P as m}from"./plus-CI2_OGDV.js";import"./query-vendor-GfKyIrYs.js";import"./react-vendor-CazXVoUc.js";import"./search-BM6hKPMp.js";const p=()=>{const[p,o]=e.useState([]),[h,j]=e.useState({total:0,active:0,inactive:0,upcoming:0,past:0}),[g,v]=e.useState({total:0,page:1,limit:10,pages:0}),[u,N]=e.useState("all"),[y,f]=e.useState(!0),[w,b]=e.useState(null),k=async()=>{try{f(!0),b(null);const e="all"===u?void 0:"active"===u,t=await r.getEvents(g.page,g.limit,e);o(t.data),j(t.stats),v(t.pagination)}catch(e){b(e.message||"Failed to fetch events")}finally{f(!1)}};e.useEffect(()=>{k()},[g.page,u]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Management"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage mental health events"})]}),t.jsxs(s,{className:"flex items-center gap-2",children:[t.jsx(m,{className:"w-4 h-4"}),"Create Event"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx(a,{children:t.jsxs(i,{className:"pt-6",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),t.jsx("p",{className:"text-3xl font-bold text-primary mt-2",children:h.total})]})}),t.jsx(a,{children:t.jsxs(i,{className:"pt-6",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Active Events"}),t.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:h.active})]})}),t.jsx(a,{children:t.jsxs(i,{className:"pt-6",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Upcoming"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:h.upcoming})]})}),t.jsx(a,{children:t.jsxs(i,{className:"pt-6",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Past Events"}),t.jsx("p",{className:"text-3xl font-bold text-gray-600 mt-2",children:h.past})]})})]}),t.jsx(a,{children:t.jsx(i,{className:"pt-6",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(s,{variant:"all"===u?"default":"outline",onClick:()=>{N("all"),v(e=>({...e,page:1}))},children:"All"}),t.jsx(s,{variant:"active"===u?"default":"outline",onClick:()=>{N("active"),v(e=>({...e,page:1}))},children:"Active"}),t.jsx(s,{variant:"inactive"===u?"default":"outline",onClick:()=>{N("inactive"),v(e=>({...e,page:1}))},children:"Inactive"})]})})}),t.jsxs(a,{children:[t.jsx(l,{children:t.jsx(n,{children:"Events List"})}),t.jsx(i,{children:y?t.jsx(x,{}):w?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-red-600",children:w}),t.jsx(s,{onClick:k,className:"mt-4",children:"Retry"})]}):0===p.length?t.jsx(d,{icon:t.jsx(c,{className:"w-12 h-12"}),title:"No events found",description:"Start by creating your first event"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event Title"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(e=>{var a,i,l;return t.jsxs("tr",{children:[t.jsxs("td",{className:"px-4 py-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title}),t.jsxs("div",{className:"text-sm text-gray-500",children:[null==(a=e.description)?void 0:a.substring(0,60),"..."]})]}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:(l=e.date,new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.location})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(i=e.is_active,i?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})}),t.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx(s,{variant:"outline",size:"sm",className:"mr-2",children:"Edit"}),t.jsx(s,{variant:"outline",size:"sm",className:"text-red-600",children:"Delete"})]})]},e.id)})})]})}),t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",p.length," of ",g.total," events"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(s,{variant:"outline",onClick:()=>v(e=>({...e,page:e.page-1})),disabled:1===g.page,children:"Previous"}),t.jsxs("span",{className:"px-4 py-2 text-sm",children:["Page ",g.page," of ",g.pages]}),t.jsx(s,{variant:"outline",onClick:()=>v(e=>({...e,page:e.page+1})),disabled:g.page>=g.pages,children:"Next"})]})]})]})})]})]})};export{p as default};
