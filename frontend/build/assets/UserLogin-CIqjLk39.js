import{r as e,a as s,j as a}from"./ui-vendor-BTYnCCVH.js";import{a as t,u as r,L as l}from"./react-vendor-CazXVoUc.js";import{z as n,t as o,N as i,H as d,y as c,E as m,F as u,G as x,J as h,k as p,M as j,r as g,K as f,B as v,O as b,Q as y}from"./index-zo8qnSR5.js";import{I as N}from"./input-C6PIaYiN.js";import{E as w}from"./eye-off-r9DHJKit.js";import"./query-vendor-GfKyIrYs.js";const k=()=>{const k=t(),L=r(),{login:S,isAuthenticated:C}=n(),[E,A]=e.useState(""),[F,P]=e.useState(""),[q,M]=e.useState(!1),[z,B]=e.useState(!1),[D,H]=e.useState({});s.useEffect(()=>{var e,s;if(C){const a=(null==(s=null==(e=L.state)?void 0:e.from)?void 0:s.pathname)||"/user/dashboard";k(a,{replace:!0})}},[C,k,L]);return a.jsxs(a.Fragment,{children:[a.jsx(o,{title:"Login - A-Cube Mental Health",description:"Login to your A-Cube account to access your dashboard, book sessions, and manage your mental wellness journey."}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[a.jsx(i,{}),a.jsx("div",{className:"container mx-auto px-4 pt-32 pb-20",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full gradient-primary mb-4 shadow-glow",children:a.jsx(d,{className:"w-8 h-8 text-primary-foreground"})}),a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-muted-foreground",children:"Login to continue your mental wellness journey"})]}),a.jsxs(c,{className:"animate-slide-in-up shadow-xl border-2",children:[a.jsxs(m,{children:[a.jsx(u,{children:"Login to Your Account"}),a.jsx(x,{children:"Enter your credentials to access your dashboard"})]}),a.jsx(h,{children:a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return E?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)||(e.email="Please enter a valid email"):e.email="Email is required",F?F.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",H(e),0===Object.keys(e).length})()){B(!0);try{await S(E,F)}catch(s){}finally{B(!1)}}},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(N,{id:"email",type:"email",placeholder:"you@example.com",value:E,onChange:e=>{A(e.target.value),H({...D,email:void 0})},className:"pl-10 "+(D.email?"border-destructive":""),disabled:z})]}),D.email&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:D.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(N,{id:"password",type:q?"text":"password",placeholder:"••••••••",value:F,onChange:e=>{P(e.target.value),H({...D,password:void 0})},className:"pl-10 pr-10 "+(D.password?"border-destructive":""),disabled:z}),a.jsx("button",{type:"button",onClick:()=>M(!q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:q?a.jsx(w,{className:"w-4 h-4"}):a.jsx(f,{className:"w-4 h-4"})})]}),D.password&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:D.password})]}),a.jsx(v,{type:"submit",className:"w-full",size:"lg",disabled:z,children:z?a.jsxs(a.Fragment,{children:[a.jsx(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):"Login"})]})}),a.jsx(y,{className:"flex flex-col gap-4",children:a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx(l,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up here"})]})})]}),a.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg border border-border text-center",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Test Mode:"})," Create a new account or use your credentials"]})})]})})]})]})};export{k as default};
