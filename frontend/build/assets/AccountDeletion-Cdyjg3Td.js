import{r as e,j as s}from"./ui-vendor-BTYnCCVH.js";import{L as t,t as r,x as a,k as o,B as l,C as i,w as n}from"./index-zo8qnSR5.js";import{I as d}from"./input-C6PIaYiN.js";import{T as c}from"./textarea-B8E-4Pp2.js";import{C as m}from"./checkbox-CqQ-qwC8.js";import{c as u}from"./bg-contact-oC4xQH4a.js";import{C as x}from"./circle-alert-DgUqQIyf.js";import"./query-vendor-GfKyIrYs.js";import"./react-vendor-CazXVoUc.js";const h=()=>{const[h,p]=e.useState(""),[j,b]=e.useState(""),[f,g]=e.useState(!1),[y,v]=e.useState(!1),[N,w]=e.useState(!1);return s.jsxs(t,{children:[s.jsx(r,{title:"Account Deletion Request",description:"Request permanent deletion of your account and personal data from A-Cube Mental Health Platform.",keywords:["account deletion","GDPR","right to erasure","data removal"]}),s.jsxs("section",{className:"relative py-20 md:py-28 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${u})`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background/95 via-background/80 to-background/70"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h1",{className:"font-display text-4xl md:text-5xl font-semibold text-foreground mb-6",children:"Account Deletion Request"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Exercise your right to erasure (GDPR). Request permanent deletion of your account and all associated data."})]})})]}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:N?s.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 text-green-500 mb-6",children:[s.jsx(i,{className:"w-8 h-8"}),s.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Request Submitted"})]}),s.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-6 mb-6",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Your account deletion request has been received and will be processed within 30 days as per our data retention policy."}),s.jsxs("p",{className:"text-muted-foreground",children:["You will receive a confirmation email at ",s.jsx("strong",{className:"text-foreground",children:h})," shortly."]})]}),s.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"What Happens Next?"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Your data will be marked for deletion immediately"}),s.jsx("li",{children:"You will lose access to your account within 24 hours"}),s.jsx("li",{children:"Complete data removal will occur within 30 days"}),s.jsx("li",{children:"You'll receive a final confirmation email when deletion is complete"})]})]})]})}),s.jsx(l,{onClick:()=>window.location.href="/",className:"w-full mt-6",children:"Return to Homepage"})]}):s.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[s.jsx("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(a,{className:"w-5 h-5 text-destructive flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-foreground mb-2",children:"Warning: This Action Cannot Be Undone"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Account deletion will permanently remove:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"All your session bookings and appointment history"}),s.jsx("li",{children:"Contact form submissions"}),s.jsx("li",{children:"Volunteer applications"}),s.jsx("li",{children:"Event registrations"}),s.jsx("li",{children:"Career applications"}),s.jsx("li",{children:"Any other personal data associated with your account"})]})]})]})}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h)if(f){v(!0);try{const e="https://jcksajlpyvbbpipmtvep.supabase.co",s=await fetch(`${e}/api/phase9/compliance/account-deletion`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h,confirmation:f,reason:j})}),t=await s.json();s.ok?(w(!0),n.success("Account deletion request submitted successfully")):n.error(t.detail||"Failed to process deletion request")}catch(s){n.error("An error occurred while processing your request")}finally{v(!1)}}else n.error("Please confirm that you understand the consequences");else n.error("Please enter your email address")},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(o,{htmlFor:"email",children:"Email Address"}),s.jsx(d,{id:"email",type:"email",placeholder:"your.email@example.com",value:h,onChange:e=>p(e.target.value),required:!0,className:"mt-1"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Enter the email address associated with your account"})]}),s.jsxs("div",{children:[s.jsx(o,{htmlFor:"reason",children:"Reason for Deletion (Optional)"}),s.jsx(c,{id:"reason",placeholder:"Please tell us why you're deleting your account (optional)",value:j,onChange:e=>b(e.target.value),className:"mt-1",rows:4})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(m,{id:"confirmation",checked:f,onCheckedChange:e=>g(e),required:!0}),s.jsx("label",{htmlFor:"confirmation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"I understand that this action is permanent and cannot be undone. All my data will be permanently deleted within 30 days."})]}),s.jsx(l,{type:"submit",variant:"destructive",className:"w-full",disabled:y||!f,children:y?"Processing...":"Delete My Account"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{className:"font-medium text-foreground mb-1",children:"Need a Copy of Your Data?"}),s.jsxs("p",{children:["Before deleting your account, you may want to ",s.jsx("a",{href:"/data-export",className:"text-primary hover:underline",children:"export your data"})," for your records."]})]})]})})]})})})})]})};export{h as default};
