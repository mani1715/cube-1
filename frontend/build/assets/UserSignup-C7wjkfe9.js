import{r as e,a as s,j as a}from"./ui-vendor-BTYnCCVH.js";import{a as t,L as r}from"./react-vendor-CazXVoUc.js";import{z as l,t as n,N as o,H as i,y as d,E as c,F as m,G as h,J as u,k as x,g as p,M as j,V as f,r as w,K as g,B as v,O as N,Q as y}from"./index-zo8qnSR5.js";import{I as b}from"./input-C6PIaYiN.js";import{E as P}from"./eye-off-r9DHJKit.js";import{C}from"./circle-check-CRoNy12p.js";import"./query-vendor-GfKyIrYs.js";const A=()=>{const A=t(),{signup:F,isAuthenticated:S}=l(),[k,z]=e.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[E,q]=e.useState(!1),[O,$]=e.useState(!1),[B,J]=e.useState(!1),[M,Z]=e.useState({});s.useEffect(()=>{S&&A("/user/dashboard",{replace:!0})},[S,A]);const D=(e,s)=>{z({...k,[e]:s}),Z({...M,[e]:void 0})},H=(()=>{const e=k.password;if(!e)return{strength:0,label:"",color:""};let s=0;return e.length>=8&&s++,/[a-z]/.test(e)&&s++,/[A-Z]/.test(e)&&s++,/[0-9]/.test(e)&&s++,/[^a-zA-Z0-9]/.test(e)&&s++,s<=2?{strength:33,label:"Weak",color:"bg-destructive"}:s<=3?{strength:66,label:"Medium",color:"bg-yellow-500"}:{strength:100,label:"Strong",color:"bg-green-500"}})();return a.jsxs(a.Fragment,{children:[a.jsx(n,{title:"Sign Up - A-Cube Mental Health",description:"Create your A-Cube account to start your mental wellness journey. Book therapy sessions, attend events, and access exclusive resources."}),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[a.jsx(o,{}),a.jsx("div",{className:"container mx-auto px-4 pt-32 pb-20",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full gradient-primary mb-4 shadow-glow",children:a.jsx(i,{className:"w-8 h-8 text-primary-foreground"})}),a.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:"Join A-Cube"}),a.jsx("p",{className:"text-muted-foreground",children:"Start your mental wellness journey today"})]}),a.jsxs(d,{className:"animate-slide-in-up shadow-xl border-2",children:[a.jsxs(c,{children:[a.jsx(m,{children:"Create Your Account"}),a.jsx(h,{children:"Fill in your details to get started"})]}),a.jsx(u,{children:a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return k.name.trim()?k.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",k.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email)||(e.email="Please enter a valid email"):e.email="Email is required",k.phone&&!/^[0-9]{10}$/.test(k.phone.replace(/[^0-9]/g,""))&&(e.phone="Please enter a valid 10-digit phone number"),k.password?k.password.length<8?e.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])/.test(k.password)||(e.password="Password must contain uppercase, lowercase, and number"):e.password="Password is required",k.confirmPassword?k.password!==k.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",Z(e),0===Object.keys(e).length})()){J(!0);try{await F(k.email,k.password,k.name,k.phone||void 0)}catch(s){}finally{J(!1)}}},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"name",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(b,{id:"name",type:"text",placeholder:"John Doe",value:k.name,onChange:e=>D("name",e.target.value),className:"pl-10 "+(M.name?"border-destructive":""),disabled:B})]}),M.name&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:M.name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(j,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(b,{id:"email",type:"email",placeholder:"you@example.com",value:k.email,onChange:e=>D("email",e.target.value),className:"pl-10 "+(M.email?"border-destructive":""),disabled:B})]}),M.email&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:M.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"phone",children:"Phone Number (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(b,{id:"phone",type:"tel",placeholder:"1234567890",value:k.phone,onChange:e=>D("phone",e.target.value),className:"pl-10 "+(M.phone?"border-destructive":""),disabled:B})]}),M.phone&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:M.phone})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(b,{id:"password",type:E?"text":"password",placeholder:"••••••••",value:k.password,onChange:e=>D("password",e.target.value),className:"pl-10 pr-10 "+(M.password?"border-destructive":""),disabled:B}),a.jsx("button",{type:"button",onClick:()=>q(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:E?a.jsx(P,{className:"w-4 h-4"}):a.jsx(g,{className:"w-4 h-4"})})]}),k.password&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-300 ${H.color}`,style:{width:`${H.strength}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Password strength: ",a.jsx("span",{className:100===H.strength?"text-green-500":66===H.strength?"text-yellow-500":"text-destructive",children:H.label})]})]}),M.password&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:M.password})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(x,{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(b,{id:"confirmPassword",type:O?"text":"password",placeholder:"••••••••",value:k.confirmPassword,onChange:e=>D("confirmPassword",e.target.value),className:"pl-10 pr-10 "+(M.confirmPassword?"border-destructive":""),disabled:B}),a.jsx("button",{type:"button",onClick:()=>$(!O),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:O?a.jsx(P,{className:"w-4 h-4"}):a.jsx(g,{className:"w-4 h-4"})})]}),k.confirmPassword&&k.password===k.confirmPassword&&a.jsxs("p",{className:"text-sm text-green-500 flex items-center gap-1 animate-fade-in",children:[a.jsx(C,{className:"w-3 h-3"})," Passwords match"]}),M.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive animate-fade-in",children:M.confirmPassword})]}),a.jsx(v,{type:"submit",className:"w-full",size:"lg",disabled:B,children:B?a.jsxs(a.Fragment,{children:[a.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]})}),a.jsxs(y,{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(r,{to:"/login",className:"text-primary hover:underline font-medium",children:"Login here"})]}),a.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:["By signing up, you agree to our"," ",a.jsx(r,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx(r,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})]})})]})]})};export{A as default};
